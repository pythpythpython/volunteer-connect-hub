---
layout: default
title: Complete Your Profile - VolunteerConnect Hub
description: Set up your volunteer profile to get personalized recommendations
---

<div class="section" id="onboardingSection">
    <!-- Progress Bar -->
    <div class="onboarding-progress">
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>
        <div class="progress-steps" id="progressSteps">
            <!-- Generated by JS -->
        </div>
    </div>
    
    <!-- Section Header -->
    <div class="section-header" style="margin-bottom: 32px;">
        <h1 class="section-title" id="sectionTitle">Welcome! Let's Get Started</h1>
        <p class="section-subtitle" id="sectionDescription">Complete your profile to get personalized volunteer recommendations</p>
    </div>
    
    <!-- Questionnaire Form -->
    <div class="card">
        <div class="card-body">
            <form id="onboardingForm">
                <!-- Section 1: Personal Info -->
                <div class="form-section" id="section-personal_info">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label" for="first_name">First Name *</label>
                            <input type="text" class="form-input" id="first_name" name="first_name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="last_name">Last Name *</label>
                            <input type="text" class="form-input" id="last_name" name="last_name" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="display_name">Display Name (how you want to be called)</label>
                        <input type="text" class="form-input" id="display_name" name="display_name" 
                               placeholder="e.g., John, JD, Dr. Smith">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="phone">Phone Number</label>
                        <input type="tel" class="form-input" id="phone" name="phone" 
                               placeholder="(555) 123-4567">
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label" for="location_city">City *</label>
                            <input type="text" class="form-input" id="location_city" name="location_city" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="location_state">State/Province *</label>
                            <input type="text" class="form-input" id="location_state" name="location_state" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="location_country">Country *</label>
                        <input type="text" class="form-input" id="location_country" name="location_country" 
                               value="United States" required>
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label" for="age_group">Age Group *</label>
                            <select class="form-input form-select" id="age_group" name="age_group" required>
                                <option value="">Select...</option>
                                <option value="under_18">Under 18</option>
                                <option value="18_24">18-24</option>
                                <option value="25_34">25-34</option>
                                <option value="35_44">35-44</option>
                                <option value="45_54">45-54</option>
                                <option value="55_64">55-64</option>
                                <option value="65_plus">65+</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="volunteer_type">I am a... *</label>
                            <select class="form-input form-select" id="volunteer_type" name="volunteer_type" required>
                                <option value="">Select...</option>
                                <option value="student">Student</option>
                                <option value="professional">Working Professional</option>
                                <option value="retiree">Retiree</option>
                                <option value="stay_at_home">Stay-at-Home Parent/Caregiver</option>
                                <option value="unemployed">Currently Unemployed</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Section 2: Skills & Expertise -->
                <div class="form-section hidden" id="section-skills_expertise">
                    <div class="form-group">
                        <label class="form-label">Your Skills *</label>
                        <p class="form-help">Select skills you have that could be valuable for volunteering</p>
                        <div class="skill-selector" id="skillSelector">
                            <div class="selected-skills" id="selectedSkills"></div>
                            <div class="skill-options">
                                <div class="skill-category">
                                    <h4>Communication & Teaching</h4>
                                    <div class="skill-buttons">
                                        <button type="button" class="skill-btn" data-skill="Communication">Communication</button>
                                        <button type="button" class="skill-btn" data-skill="Teaching/Tutoring">Teaching/Tutoring</button>
                                        <button type="button" class="skill-btn" data-skill="Writing">Writing</button>
                                        <button type="button" class="skill-btn" data-skill="Public Speaking">Public Speaking</button>
                                        <button type="button" class="skill-btn" data-skill="Translation">Translation</button>
                                        <button type="button" class="skill-btn" data-skill="Counseling">Counseling</button>
                                    </div>
                                </div>
                                <div class="skill-category">
                                    <h4>Professional & Technical</h4>
                                    <div class="skill-buttons">
                                        <button type="button" class="skill-btn" data-skill="Project Management">Project Management</button>
                                        <button type="button" class="skill-btn" data-skill="Event Planning">Event Planning</button>
                                        <button type="button" class="skill-btn" data-skill="Social Media">Social Media</button>
                                        <button type="button" class="skill-btn" data-skill="Marketing">Marketing</button>
                                        <button type="button" class="skill-btn" data-skill="Graphic Design">Graphic Design</button>
                                        <button type="button" class="skill-btn" data-skill="Web Development">Web Development</button>
                                        <button type="button" class="skill-btn" data-skill="Data Analysis">Data Analysis</button>
                                        <button type="button" class="skill-btn" data-skill="Accounting">Accounting</button>
                                        <button type="button" class="skill-btn" data-skill="Legal">Legal</button>
                                        <button type="button" class="skill-btn" data-skill="Grant Writing">Grant Writing</button>
                                    </div>
                                </div>
                                <div class="skill-category">
                                    <h4>Hands-On & Care</h4>
                                    <div class="skill-buttons">
                                        <button type="button" class="skill-btn" data-skill="First Aid/CPR">First Aid/CPR</button>
                                        <button type="button" class="skill-btn" data-skill="Healthcare">Healthcare</button>
                                        <button type="button" class="skill-btn" data-skill="Childcare">Childcare</button>
                                        <button type="button" class="skill-btn" data-skill="Elder Care">Elder Care</button>
                                        <button type="button" class="skill-btn" data-skill="Animal Care">Animal Care</button>
                                        <button type="button" class="skill-btn" data-skill="Cooking/Food Service">Cooking/Food Service</button>
                                        <button type="button" class="skill-btn" data-skill="Carpentry">Carpentry</button>
                                        <button type="button" class="skill-btn" data-skill="Gardening">Gardening</button>
                                        <button type="button" class="skill-btn" data-skill="Driving">Driving</button>
                                    </div>
                                </div>
                                <div class="skill-category">
                                    <h4>Other</h4>
                                    <div class="skill-buttons">
                                        <button type="button" class="skill-btn" data-skill="Research">Research</button>
                                        <button type="button" class="skill-btn" data-skill="Photography">Photography</button>
                                        <button type="button" class="skill-btn" data-skill="Fundraising">Fundraising</button>
                                    </div>
                                    <div class="form-group" style="margin-top: 12px;">
                                        <input type="text" class="form-input" id="customSkill" 
                                               placeholder="Add custom skill...">
                                        <button type="button" class="btn btn-text" onclick="addCustomSkill()">+ Add</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <input type="hidden" id="skills" name="skills">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="languages">Languages You Speak</label>
                        <input type="text" class="form-input" id="languages" name="languages" 
                               placeholder="e.g., English, Spanish, Mandarin">
                        <p class="form-help">Separate multiple languages with commas</p>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="certifications">Certifications</label>
                        <input type="text" class="form-input" id="certifications" name="certifications" 
                               placeholder="e.g., CPR, Teaching Certificate, PMP">
                        <p class="form-help">Separate multiple certifications with commas</p>
                    </div>
                </div>
                
                <!-- Section 3: Background -->
                <div class="form-section hidden" id="section-education_work">
                    <div class="form-group">
                        <label class="form-label" for="current_education_status">Education Status</label>
                        <select class="form-input form-select" id="current_education_status" name="current_education_status">
                            <option value="">Select...</option>
                            <option value="high_school">High School Student</option>
                            <option value="high_school_grad">High School Graduate</option>
                            <option value="college">College/University Student</option>
                            <option value="college_grad">College Graduate</option>
                            <option value="graduate_school">Graduate Student</option>
                            <option value="graduate_degree">Graduate Degree Holder</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="education_summary">Education Summary</label>
                        <textarea class="form-input form-textarea" id="education_summary" name="education_summary"
                                  placeholder="e.g., BA in Psychology from State University, 2020"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="current_employment_status">Employment Status</label>
                        <select class="form-input form-select" id="current_employment_status" name="current_employment_status">
                            <option value="">Select...</option>
                            <option value="employed_full">Employed Full-Time</option>
                            <option value="employed_part">Employed Part-Time</option>
                            <option value="self_employed">Self-Employed</option>
                            <option value="unemployed">Unemployed</option>
                            <option value="retired">Retired</option>
                            <option value="student">Student</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="work_summary">Work Experience Summary</label>
                        <textarea class="form-input form-textarea" id="work_summary" name="work_summary"
                                  placeholder="e.g., 5 years as Marketing Manager in tech industry"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="industry_expertise">Industry Expertise</label>
                        <input type="text" class="form-input" id="industry_expertise" name="industry_expertise"
                               placeholder="e.g., Healthcare, Education, Technology">
                        <p class="form-help">Industries you have professional experience in</p>
                    </div>
                </div>
                
                <!-- Section 4: Volunteer Experience -->
                <div class="form-section hidden" id="section-volunteer_experience">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label" for="volunteer_since_year">When did you start volunteering?</label>
                            <input type="number" class="form-input" id="volunteer_since_year" name="volunteer_since_year"
                                   min="1950" max="2025" placeholder="Year (leave blank if new)">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="total_volunteer_hours">Estimated Total Hours</label>
                            <input type="number" class="form-input" id="total_volunteer_hours" name="total_volunteer_hours"
                                   min="0" placeholder="0">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="volunteer_summary">Previous Volunteer Experience</label>
                        <textarea class="form-input form-textarea" id="volunteer_summary" name="volunteer_summary"
                                  style="min-height: 150px;"
                                  placeholder="Describe your previous volunteer roles, organizations, and what you learned. If you're new to volunteering, tell us what excites you about getting started!"></textarea>
                        <p class="form-help">This helps us match you with appropriate opportunities and is used in application letters</p>
                    </div>
                </div>
                
                <!-- Section 5: Interests & Causes -->
                <div class="form-section hidden" id="section-interests_causes">
                    <div class="form-group">
                        <label class="form-label">Causes I Care About *</label>
                        <p class="form-help">Select at least one cause you're passionate about</p>
                        <div class="checkbox-grid" id="causesGrid">
                            <label class="checkbox-card">
                                <input type="checkbox" name="causes_interested" value="education">
                                <span class="checkbox-content">
                                    <span class="material-icons">school</span>
                                    Education & Literacy
                                </span>
                            </label>
                            <label class="checkbox-card">
                                <input type="checkbox" name="causes_interested" value="environment">
                                <span class="checkbox-content">
                                    <span class="material-icons">park</span>
                                    Environment
                                </span>
                            </label>
                            <label class="checkbox-card">
                                <input type="checkbox" name="causes_interested" value="health">
                                <span class="checkbox-content">
                                    <span class="material-icons">favorite</span>
                                    Health & Wellness
                                </span>
                            </label>
                            <label class="checkbox-card">
                                <input type="checkbox" name="causes_interested" value="hunger">
                                <span class="checkbox-content">
                                    <span class="material-icons">restaurant</span>
                                    Hunger & Food
                                </span>
                            </label>
                            <label class="checkbox-card">
                                <input type="checkbox" name="causes_interested" value="housing">
                                <span class="checkbox-content">
                                    <span class="material-icons">home</span>
                                    Housing
                                </span>
                            </label>
                            <label class="checkbox-card">
                                <input type="checkbox" name="causes_interested" value="animals">
                                <span class="checkbox-content">
                                    <span class="material-icons">pets</span>
                                    Animal Welfare
                                </span>
                            </label>
                            <label class="checkbox-card">
                                <input type="checkbox" name="causes_interested" value="seniors">
                                <span class="checkbox-content">
                                    <span class="material-icons">elderly</span>
                                    Senior Services
                                </span>
                            </label>
                            <label class="checkbox-card">
                                <input type="checkbox" name="causes_interested" value="youth">
                                <span class="checkbox-content">
                                    <span class="material-icons">child_care</span>
                                    Youth Development
                                </span>
                            </label>
                            <label class="checkbox-card">
                                <input type="checkbox" name="causes_interested" value="veterans">
                                <span class="checkbox-content">
                                    <span class="material-icons">military_tech</span>
                                    Veterans
                                </span>
                            </label>
                            <label class="checkbox-card">
                                <input type="checkbox" name="causes_interested" value="disaster">
                                <span class="checkbox-content">
                                    <span class="material-icons">emergency</span>
                                    Disaster Relief
                                </span>
                            </label>
                            <label class="checkbox-card">
                                <input type="checkbox" name="causes_interested" value="community">
                                <span class="checkbox-content">
                                    <span class="material-icons">groups</span>
                                    Community
                                </span>
                            </label>
                            <label class="checkbox-card">
                                <input type="checkbox" name="causes_interested" value="mental_health">
                                <span class="checkbox-content">
                                    <span class="material-icons">psychology</span>
                                    Mental Health
                                </span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Populations I Want to Help</label>
                        <div class="checkbox-grid small">
                            <label class="checkbox-item">
                                <input type="checkbox" name="populations_interested" value="children">
                                <span>Children (0-12)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="populations_interested" value="teens">
                                <span>Teenagers (13-18)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="populations_interested" value="adults">
                                <span>Adults</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="populations_interested" value="seniors">
                                <span>Seniors (65+)</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="populations_interested" value="families">
                                <span>Families</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="populations_interested" value="homeless">
                                <span>People Experiencing Homelessness</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="populations_interested" value="immigrants">
                                <span>Immigrants/Refugees</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="populations_interested" value="animals">
                                <span>Animals</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Section 6: Availability -->
                <div class="form-section hidden" id="section-availability">
                    <div class="form-group">
                        <label class="form-label" for="availability_hours_per_week">Hours Available Per Week *</label>
                        <select class="form-input form-select" id="availability_hours_per_week" name="availability_hours_per_week" required>
                            <option value="">Select...</option>
                            <option value="1">1-2 hours</option>
                            <option value="3">3-5 hours</option>
                            <option value="6">6-10 hours</option>
                            <option value="11">11-20 hours</option>
                            <option value="20">20+ hours</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Days Available *</label>
                        <div class="checkbox-grid small">
                            <label class="checkbox-item">
                                <input type="checkbox" name="availability_days" value="monday">
                                <span>Monday</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="availability_days" value="tuesday">
                                <span>Tuesday</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="availability_days" value="wednesday">
                                <span>Wednesday</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="availability_days" value="thursday">
                                <span>Thursday</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="availability_days" value="friday">
                                <span>Friday</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="availability_days" value="saturday">
                                <span>Saturday</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="availability_days" value="sunday">
                                <span>Sunday</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Volunteering Preferences</label>
                        <div class="checkbox-grid small">
                            <label class="checkbox-item">
                                <input type="checkbox" name="prefers_virtual" id="prefers_virtual">
                                <span>I'm interested in virtual/remote volunteering</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="prefers_in_person" id="prefers_in_person" checked>
                                <span>I'm interested in in-person volunteering</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="has_transportation" id="has_transportation">
                                <span>I have reliable transportation</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="willing_background_check" id="willing_background_check" checked>
                                <span>I'm willing to undergo a background check if required</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="willing_to_travel_miles">Willing to Travel</label>
                        <select class="form-input form-select" id="willing_to_travel_miles" name="willing_to_travel_miles">
                            <option value="5">Up to 5 miles</option>
                            <option value="10" selected>Up to 10 miles</option>
                            <option value="25">Up to 25 miles</option>
                            <option value="50">Up to 50 miles</option>
                            <option value="100">Any distance</option>
                        </select>
                    </div>
                </div>
                
                <!-- Section 7: Goals & Motivation -->
                <div class="form-section hidden" id="section-goals_motivation">
                    <div class="form-group">
                        <label class="form-label" for="primary_motivation">Primary Motivation for Volunteering *</label>
                        <select class="form-input form-select" id="primary_motivation" name="primary_motivation" required>
                            <option value="">Select...</option>
                            <option value="give_back">Want to give back to my community</option>
                            <option value="skills">Want to develop new skills</option>
                            <option value="career">Career exploration/development</option>
                            <option value="social">Meet new people/social connection</option>
                            <option value="requirement">School/work requirement</option>
                            <option value="passion">Passionate about a specific cause</option>
                            <option value="religious">Religious/spiritual calling</option>
                            <option value="family">Family tradition/activity</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">What Do You Hope to Achieve? *</label>
                        <p class="form-help">Select all that apply</p>
                        <div class="checkbox-grid small">
                            <label class="checkbox-item">
                                <input type="checkbox" name="goals" value="make_difference">
                                <span>Make a meaningful difference</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="goals" value="learn_skills">
                                <span>Learn new skills</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="goals" value="build_resume">
                                <span>Build my resume/portfolio</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="goals" value="network">
                                <span>Network with professionals</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="goals" value="explore_careers">
                                <span>Explore career options</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="goals" value="meet_people">
                                <span>Meet like-minded people</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="goals" value="leadership">
                                <span>Develop leadership skills</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="goals" value="give_back">
                                <span>Give back for help I received</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="what_can_contribute">What Unique Value Can You Contribute? *</label>
                        <textarea class="form-input form-textarea" id="what_can_contribute" name="what_can_contribute" 
                                  required style="min-height: 120px;"
                                  placeholder="Think about your unique combination of skills, experience, and perspective. What makes you a great volunteer?"></textarea>
                        <p class="form-help">This is used in your application letters to show organizations why you'd be a great fit</p>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="ideal_volunteer_role">Describe Your Ideal Volunteer Role</label>
                        <textarea class="form-input form-textarea" id="ideal_volunteer_role" name="ideal_volunteer_role"
                                  placeholder="What would your perfect volunteering experience look like?"></textarea>
                    </div>
                </div>
                
                <!-- Navigation Buttons -->
                <div class="form-nav">
                    <button type="button" class="btn btn-outline" id="prevBtn" onclick="prevSection()" style="display: none;">
                        <span class="material-icons">arrow_back</span>
                        Previous
                    </button>
                    <button type="button" class="btn btn-primary" id="nextBtn" onclick="nextSection()">
                        Next
                        <span class="material-icons">arrow_forward</span>
                    </button>
                    <button type="submit" class="btn btn-primary btn-lg" id="submitBtn" style="display: none;">
                        <span class="material-icons">check</span>
                        Complete Profile
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
.onboarding-progress {
    margin-bottom: 32px;
}

.progress-bar {
    height: 8px;
    background: var(--gray-200);
    border-radius: var(--radius-full);
    overflow: hidden;
    margin-bottom: 16px;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    transition: width 0.3s ease;
}

.progress-steps {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    color: var(--gray-500);
}

.progress-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
}

.progress-step.active {
    color: var(--primary);
    font-weight: 600;
}

.progress-step.completed {
    color: var(--secondary);
}

.form-section {
    animation: fadeIn 0.3s ease;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
}

@media (max-width: 768px) {
    .form-grid {
        grid-template-columns: 1fr;
    }
}

.form-help {
    font-size: 13px;
    color: var(--gray-500);
    margin-top: 4px;
}

.form-nav {
    display: flex;
    justify-content: space-between;
    margin-top: 32px;
    padding-top: 24px;
    border-top: 1px solid var(--gray-200);
}

/* Skill Selector */
.skill-selector {
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-lg);
    padding: 16px;
}

.selected-skills {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 16px;
    min-height: 40px;
    padding: 8px;
    background: var(--gray-50);
    border-radius: var(--radius-md);
}

.selected-skill {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 12px;
    background: var(--primary);
    color: white;
    border-radius: var(--radius-full);
    font-size: 14px;
}

.selected-skill button {
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    padding: 0;
    display: flex;
}

.skill-category {
    margin-bottom: 16px;
}

.skill-category h4 {
    font-size: 14px;
    color: var(--gray-600);
    margin-bottom: 8px;
}

.skill-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.skill-btn {
    padding: 6px 12px;
    border: 1px solid var(--gray-300);
    border-radius: var(--radius-full);
    background: white;
    cursor: pointer;
    font-size: 13px;
    transition: all var(--transition-fast);
}

.skill-btn:hover {
    border-color: var(--primary);
    color: var(--primary);
}

.skill-btn.selected {
    background: var(--primary-light);
    border-color: var(--primary);
    color: var(--primary);
}

/* Checkbox Cards */
.checkbox-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 12px;
}

.checkbox-grid.small {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
}

.checkbox-card {
    display: block;
    cursor: pointer;
}

.checkbox-card input {
    display: none;
}

.checkbox-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 16px;
    border: 2px solid var(--gray-200);
    border-radius: var(--radius-lg);
    transition: all var(--transition-fast);
    text-align: center;
}

.checkbox-content .material-icons {
    font-size: 32px;
    color: var(--gray-400);
}

.checkbox-card input:checked + .checkbox-content {
    border-color: var(--primary);
    background: rgba(79, 70, 229, 0.05);
}

.checkbox-card input:checked + .checkbox-content .material-icons {
    color: var(--primary);
}

.checkbox-item {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    padding: 8px;
    border-radius: var(--radius-md);
}

.checkbox-item:hover {
    background: var(--gray-50);
}

.checkbox-item input[type="checkbox"] {
    width: 18px;
    height: 18px;
}
</style>

<script>
const sections = [
    { id: 'personal_info', title: 'Personal Information', description: 'Tell us about yourself' },
    { id: 'skills_expertise', title: 'Skills & Expertise', description: 'What can you contribute?' },
    { id: 'education_work', title: 'Background', description: 'Your education and work experience' },
    { id: 'volunteer_experience', title: 'Volunteer Experience', description: 'Your volunteering history' },
    { id: 'interests_causes', title: 'Interests & Causes', description: 'What are you passionate about?' },
    { id: 'availability', title: 'Availability', description: 'When and how can you volunteer?' },
    { id: 'goals_motivation', title: 'Goals & Motivation', description: 'What drives you to volunteer?' },
];

let currentSection = 0;
let selectedSkills = [];

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    renderProgressSteps();
    setupSkillButtons();
    showSection(0);
    
    // Check if user is logged in
    if (!isAuthenticated()) {
        window.location.href = '{{ "/" | relative_url }}';
    }
});

function renderProgressSteps() {
    const container = document.getElementById('progressSteps');
    container.innerHTML = sections.map((s, i) => 
        `<span class="progress-step" data-index="${i}">${i + 1}</span>`
    ).join('');
}

function updateProgress() {
    const progress = ((currentSection + 1) / sections.length) * 100;
    document.getElementById('progressFill').style.width = `${progress}%`;
    
    document.querySelectorAll('.progress-step').forEach((step, i) => {
        step.classList.remove('active', 'completed');
        if (i === currentSection) step.classList.add('active');
        if (i < currentSection) step.classList.add('completed');
    });
}

function showSection(index) {
    sections.forEach((s, i) => {
        const el = document.getElementById(`section-${s.id}`);
        if (el) {
            el.classList.toggle('hidden', i !== index);
        }
    });
    
    document.getElementById('sectionTitle').textContent = sections[index].title;
    document.getElementById('sectionDescription').textContent = sections[index].description;
    
    document.getElementById('prevBtn').style.display = index === 0 ? 'none' : '';
    document.getElementById('nextBtn').style.display = index === sections.length - 1 ? 'none' : '';
    document.getElementById('submitBtn').style.display = index === sections.length - 1 ? '' : 'none';
    
    updateProgress();
}

function nextSection() {
    if (validateSection(currentSection)) {
        if (currentSection < sections.length - 1) {
            currentSection++;
            showSection(currentSection);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    }
}

function prevSection() {
    if (currentSection > 0) {
        currentSection--;
        showSection(currentSection);
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
}

function validateSection(index) {
    const sectionId = sections[index].id;
    
    // Basic validation for required fields in current section
    const sectionEl = document.getElementById(`section-${sectionId}`);
    const requiredInputs = sectionEl.querySelectorAll('[required]');
    
    for (const input of requiredInputs) {
        if (!input.value.trim()) {
            input.focus();
            alert(`Please fill in: ${input.previousElementSibling?.textContent || 'required field'}`);
            return false;
        }
    }
    
    // Section-specific validation
    if (sectionId === 'skills_expertise' && selectedSkills.length === 0) {
        alert('Please select at least one skill');
        return false;
    }
    
    if (sectionId === 'interests_causes') {
        const causes = document.querySelectorAll('input[name="causes_interested"]:checked');
        if (causes.length === 0) {
            alert('Please select at least one cause you care about');
            return false;
        }
    }
    
    if (sectionId === 'availability') {
        const days = document.querySelectorAll('input[name="availability_days"]:checked');
        if (days.length === 0) {
            alert('Please select at least one day you\'re available');
            return false;
        }
    }
    
    if (sectionId === 'goals_motivation') {
        const goals = document.querySelectorAll('input[name="goals"]:checked');
        if (goals.length === 0) {
            alert('Please select at least one goal');
            return false;
        }
    }
    
    return true;
}

// Skill selection
function setupSkillButtons() {
    document.querySelectorAll('.skill-btn').forEach(btn => {
        btn.addEventListener('click', () => toggleSkill(btn.dataset.skill, btn));
    });
}

function toggleSkill(skill, btn) {
    if (selectedSkills.includes(skill)) {
        selectedSkills = selectedSkills.filter(s => s !== skill);
        btn?.classList.remove('selected');
    } else {
        selectedSkills.push(skill);
        btn?.classList.add('selected');
    }
    renderSelectedSkills();
}

function addCustomSkill() {
    const input = document.getElementById('customSkill');
    const skill = input.value.trim();
    if (skill && !selectedSkills.includes(skill)) {
        selectedSkills.push(skill);
        renderSelectedSkills();
        input.value = '';
    }
}

function renderSelectedSkills() {
    const container = document.getElementById('selectedSkills');
    container.innerHTML = selectedSkills.map(skill => 
        `<span class="selected-skill">
            ${skill}
            <button type="button" onclick="toggleSkill('${skill}')">
                <span class="material-icons" style="font-size: 16px;">close</span>
            </button>
        </span>`
    ).join('');
    
    // Update hidden field
    document.getElementById('skills').value = JSON.stringify(
        selectedSkills.map(s => ({ name: s, level: 'intermediate' }))
    );
}

// Form submission
document.getElementById('onboardingForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    if (!validateSection(currentSection)) return;
    
    const formData = new FormData(this);
    const profile = {};
    
    // Process form data
    for (const [key, value] of formData.entries()) {
        if (key.endsWith('[]') || ['causes_interested', 'populations_interested', 'goals', 'availability_days'].includes(key)) {
            const cleanKey = key.replace('[]', '');
            if (!profile[cleanKey]) profile[cleanKey] = [];
            profile[cleanKey].push(value);
        } else {
            profile[key] = value;
        }
    }
    
    // Add skills
    profile.skills = selectedSkills.map(s => ({ name: s, level: 'intermediate' }));
    
    // Process checkboxes
    profile.prefers_virtual = document.getElementById('prefers_virtual').checked;
    profile.prefers_in_person = document.getElementById('prefers_in_person').checked;
    profile.has_transportation = document.getElementById('has_transportation').checked;
    profile.willing_background_check = document.getElementById('willing_background_check').checked;
    
    // Mark profile as complete
    profile.profile_complete = true;
    
    // Convert numeric strings
    if (profile.availability_hours_per_week) {
        profile.availability_hours_per_week = parseInt(profile.availability_hours_per_week);
    }
    if (profile.willing_to_travel_miles) {
        profile.willing_to_travel_miles = parseInt(profile.willing_to_travel_miles);
    }
    if (profile.total_volunteer_hours) {
        profile.total_volunteer_hours = parseFloat(profile.total_volunteer_hours) || 0;
    }
    if (profile.volunteer_since_year) {
        profile.volunteer_since_year = parseInt(profile.volunteer_since_year) || null;
    }
    
    // Save profile
    try {
        const user = getCurrentUser();
        const fullProfile = {
            ...profile,
            user_id: user?.uid || 'local',
            email: user?.email || '',
            updated_at: new Date().toISOString()
        };
        
        // Try to save to Supabase first
        if (typeof VolunteerDB !== 'undefined' && VolunteerDB.isAvailable()) {
            console.log('Saving profile to Supabase...');
            await VolunteerDB.updateProfile(fullProfile);
            console.log('Profile saved to Supabase successfully');
        }
        
        // Always save to localStorage as backup
        localStorage.setItem('volunteerProfile', JSON.stringify(fullProfile));
        
        // Show success message
        const successMessage = document.createElement('div');
        successMessage.className = 'alert alert-success';
        successMessage.innerHTML = `
            <span class="material-icons">check_circle</span>
            <div>
                <strong>Profile Saved Successfully!</strong>
                <p style="margin: 0;">Redirecting to opportunities...</p>
            </div>
        `;
        document.querySelector('.card-body').prepend(successMessage);
        
        // Redirect after short delay
        setTimeout(() => {
            window.location.href = '{{ "/opportunities.html" | relative_url }}';
        }, 1500);
    } catch (error) {
        console.error('Error saving profile:', error);
        
        // Try localStorage fallback
        try {
            const user = getCurrentUser();
            const fullProfile = {
                ...profile,
                user_id: user?.uid || 'local',
                email: user?.email || '',
                updated_at: new Date().toISOString()
            };
            localStorage.setItem('volunteerProfile', JSON.stringify(fullProfile));
            
            alert('Profile saved locally. Some features may be limited offline.');
            window.location.href = '{{ "/opportunities.html" | relative_url }}';
        } catch (localError) {
            console.error('Error saving to localStorage:', localError);
            alert('Error saving profile. Please try again.');
        }
    }
});
</script>
